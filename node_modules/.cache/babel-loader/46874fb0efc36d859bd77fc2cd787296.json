{"ast":null,"code":"var _jsxFileName = \"/home/meriam/testwapp/WApplication/Partie Client/src/views/ProfilUpdate/ProfilUpdateView/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport axios from 'axios';\nimport { Avatar, Box, Button, Card, CardActions, CardContent, Divider, Typography, makeStyles } from '@material-ui/core';\nimport { setuser } from \"../../../redux/action\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from 'react-redux';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    height: 100,\n    width: 100\n  }\n}));\n\nconst Profile = ({\n  className,\n  ...rest\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const user = useSelector(state => state.user);\n  const [formData, setFormData] = useState('');\n  const [info, setInfo] = useState({\n    image: '',\n    name: ''\n  });\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [error, setError] = useState({\n    found: false,\n    message: ''\n  });\n  /** end states */\n  // Upload image\n\n  const upload = ({\n    target: {\n      files\n    }\n  }) => {\n    let data = new FormData();\n    data.append('data', files[0]);\n    data.append('name', files[0].name);\n    setFormData(data);\n  }; //click redirect :\n\n\n  const click = e => {\n    navigate('/app/account', {\n      replace: true\n    });\n  }; // Submit Form\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    const options = {\n      headers: {\n        \"x-auth-token\": token,\n        'Content-Type': 'multipart'\n      }\n    };\n    const res = await axios.post(`${process.env.REACT_APP_URL}users/photo`, formData, options);\n    const dis = await axios.get(`${process.env.REACT_APP_URL}users`, {\n      headers: {\n        \"x-auth-token\": token\n      }\n    });\n    dispatch(setuser(dis.data[0]));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, Object.assign({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"textPrimary\",\n    gutterBottom: true,\n    variant: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, user.name), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.dateText,\n    color: \"textSecondary\",\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, user.lastName)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 3\n    }\n  }, error.found && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    style: {\n      width: '150px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, error.message), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mt-3\",\n    src: `${process.env.REACT_APP_URL}uploads/${info.image}`,\n    alt: `${info.name}`,\n    style: {\n      width: '150px',\n      borderRadius: '60%',\n      display: 'block',\n      marginLeft: 'auto',\n      marginRight: ' auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"inputGroupFile04\",\n    \"aria-describedby\": \"inputGroupFileAddon04\",\n    onChange: upload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, \"Submit\"))))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: click,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, \"try more details\")));\n};\n\n_s(Profile, \"7fKeCsI4hsxLQ1jRz3FsDJDjSJw=\", false, function () {\n  return [useDispatch, useStyles, useNavigate, useSelector];\n});\n\n_c = Profile;\nProfile.propTypes = {\n  className: PropTypes.string\n};\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/meriam/testwapp/WApplication/Partie Client/src/views/ProfilUpdate/ProfilUpdateView/Profile.js"],"names":["React","useState","PropTypes","clsx","moment","axios","Avatar","Box","Button","Card","CardActions","CardContent","Divider","Typography","makeStyles","setuser","useDispatch","useSelector","Link","RouterLink","useNavigate","useStyles","root","avatar","height","width","Profile","className","rest","dispatch","classes","navigate","user","state","formData","setFormData","info","setInfo","image","name","progressPercent","setProgressPercent","error","setError","found","message","upload","target","files","data","FormData","append","click","e","replace","handleSubmit","preventDefault","token","localStorage","getItem","options","headers","res","post","process","env","REACT_APP_URL","dis","get","dateText","lastName","position","borderRadius","display","marginLeft","marginRight","propTypes","string"],"mappings":"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","sourcesContent":["import React , {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport axios from 'axios'\nimport {\n  Avatar,\n  Box,\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  Divider,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { setuser } from \"../../../redux/action\";\nimport { useDispatch } from \"react-redux\";\nimport  {useSelector} from 'react-redux';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\n\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    height: 100,\n    width: 100\n  }\n}));\n\nconst Profile = ({ className, ...rest }) => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const navigate = useNavigate();\n\n\n  const user=useSelector((state =>state.user));\n  const [formData, setFormData] = useState('');\n  \n  const [info, setInfo] = useState({\n    image: '',\n    name: '',\n  });\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [error, setError] = useState({\n    found: false,\n    message: '',\n  });\n  /** end states */\n\n  // Upload image\n  const upload = ({ target: { files } }) => {\n    let data = new FormData();\n    data.append('data', files[0]);\n    data.append('name', files[0].name);\n    setFormData(data);\n  };\n//click redirect :\nconst click=(e)=>{\n  navigate('/app/account', { replace: true })\n}\n\n\n\n\n  // Submit Form\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n   const token = localStorage.getItem('token');\n    const options = {\n     \n headers: {\"x-auth-token\": token ,'Content-Type': 'multipart'},\n    \n    };\n    \n       const res = await axios.post(`${process.env.REACT_APP_URL}users/photo`,formData,options);\n       const dis = await axios.get(`${process.env.REACT_APP_URL}users`, {\n        headers: {\"x-auth-token\": token}\n    }\n    )\n    dispatch(setuser(dis.data[0]));\n      }\n\n  return (\n    <div>\n    <Card\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <CardContent>\n       \n         <div\n      \n    >\n    <Box\n    alignItems=\"center\"\n    display=\"flex\"\n    flexDirection=\"column\"\n  >\n    \n    <Typography\n      color=\"textPrimary\"\n      gutterBottom\n      variant=\"h3\"\n    >\n      {user.name}\n    </Typography>\n  \n    <Typography\n      className={classes.dateText}\n      color=\"textSecondary\"\n      variant=\"body1\"\n    >\n      {user.lastName}\n    </Typography>\n  </Box> \n  \n  <div>\n      {error.found && (\n        <div\n          className='alert alert-danger'\n          role='alert'\n          style={{ width: '150px'}}\n        >\n          {error.message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} >\n       \n        <div  style={{position:'center'}}>\n         <img\n        className='mt-3'\n        src={`${process.env.REACT_APP_URL}uploads/${info.image}`}\n        alt={`${info.name}`}\n        style={{ width: '150px',borderRadius:'60%' ,display: 'block',marginLeft: 'auto',marginRight:' auto'}}\n      />\n          <input\n            type='file'\n            \n            id='inputGroupFile04'\n            aria-describedby='inputGroupFileAddon04'\n            onChange={upload}\n          />\n          \n        </div>\n        <button type='submit' className='btn btn-primary w-100'>\n          Submit\n        </button>\n      </form>\n     \n    </div>\n       </div>\n      </CardContent>\n     \n      <Divider />\n      <Button onClick={click}>try more details</Button>\n    </Card>\n    \n    </div>\n  );\n};\n\nProfile.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Profile;\n\n\n\n"]},"metadata":{},"sourceType":"module"}