{"ast":null,"code":"var _jsxFileName = \"/home/meriam/testwapp/WApplication/Partie Client/src/views/PhotoUpdted/PhotoUpdtedView/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction Photo() {\n  _s();\n\n  /** start states */\n  const [formData, setFormData] = useState('');\n  const [info, setInfo] = useState({\n    image: '',\n    name: ''\n  });\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [error, setError] = useState({\n    found: false,\n    message: ''\n  });\n  /** end states */\n  // Upload image\n\n  const upload = ({\n    target: {\n      files\n    }\n  }) => {\n    let data = new FormData();\n    data.append('categoryImage', files[0]);\n    data.append('name', files[0].name);\n    setFormData(data);\n  }; // Submit Form\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setInfo({\n      image: '',\n      name: ''\n    });\n    setProgressPercent(0);\n    const options = {\n      onUploadProgress: progressEvent => {\n        const {\n          loaded,\n          total\n        } = progressEvent;\n        let percent = Math.floor(loaded * 100 / total);\n        console.log(`${loaded}kb of ${total}kb | ${percent}%`);\n        setProgressPercent(percent);\n      }\n    };\n    axios.post('http://localhost:3003/api/category', formData, options).then(res => {\n      console.log(res.data);\n      setTimeout(() => {\n        setInfo(res.data.category);\n        setProgressPercent(0);\n      }, 1000);\n    }).catch(err => {\n      console.log(err.response);\n      setError({\n        found: true,\n        message: err.response.data.errors\n      });\n      setTimeout(() => {\n        setError({\n          found: false,\n          message: ''\n        });\n        setProgressPercent(0);\n      }, 3000);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh'\n    },\n    className: \"d-flex justify-content-center align-items-center flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, error.found && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    style: {\n      width: '359px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, error.message), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      width: '359px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress mb-3 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    role: \"progressbar\",\n    style: {\n      width: `${progressPercent}%`\n    },\n    \"aria-valuenow\": progressPercent,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, progressPercent)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"custom-file-input\",\n    id: \"inputGroupFile04\",\n    \"aria-describedby\": \"inputGroupFileAddon04\",\n    onChange: upload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"inputGroupFile04\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Choose file\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mt-3\",\n    src: `http://localhost:3003/${info.image}`,\n    alt: `${info.name}`,\n    style: {\n      width: '359px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(Photo, \"RaaaRjliDdTaObtcF7YTGlssMIk=\");\n\n_c = Photo;\nexport default Photo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Photo\");","map":{"version":3,"sources":["/home/meriam/testwapp/WApplication/Partie Client/src/views/PhotoUpdted/PhotoUpdtedView/index.js"],"names":["React","useState","axios","Photo","formData","setFormData","info","setInfo","image","name","progressPercent","setProgressPercent","error","setError","found","message","upload","target","files","data","FormData","append","handleSubmit","e","preventDefault","options","onUploadProgress","progressEvent","loaded","total","percent","Math","floor","console","log","post","then","res","setTimeout","category","catch","err","response","errors","width","height"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nfunction Photo() {\n  /** start states */\n  const [formData, setFormData] = useState('');\n  const [info, setInfo] = useState({\n    image: '',\n    name: '',\n  });\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [error, setError] = useState({\n    found: false,\n    message: '',\n  });\n  /** end states */\n\n  // Upload image\n  const upload = ({ target: { files } }) => {\n    let data = new FormData();\n    data.append('categoryImage', files[0]);\n    data.append('name', files[0].name);\n    setFormData(data);\n  };\n\n  // Submit Form\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setInfo({\n      image: '',\n      name: '',\n    });\n    setProgressPercent(0);\n    const options = {\n      onUploadProgress: (progressEvent) => {\n        const { loaded, total } = progressEvent;\n        let percent = Math.floor((loaded * 100) / total);\n        console.log(`${loaded}kb of ${total}kb | ${percent}%`);\n        setProgressPercent(percent);\n      },\n    };\n    axios\n      .post('http://localhost:3003/api/category', formData, options)\n      .then((res) => {\n        console.log(res.data);\n        setTimeout(() => {\n          setInfo(res.data.category);\n          setProgressPercent(0);\n        }, 1000);\n      })\n      .catch((err) => {\n        console.log(err.response);\n        setError({\n          found: true,\n          message: err.response.data.errors,\n        });\n        setTimeout(() => {\n          setError({\n            found: false,\n            message: '',\n          });\n          setProgressPercent(0);\n        }, 3000);\n      });\n    \n  };\n\n  return (\n    <div\n      style={{ width: '100vw', height: '100vh' }}\n      className='d-flex justify-content-center align-items-center flex-column'\n    >\n      {error.found && (\n        <div\n          className='alert alert-danger'\n          role='alert'\n          style={{ width: '359px' }}\n        >\n          {error.message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} style={{ width: '359px' }}>\n        <div className='progress mb-3 w-100'>\n          <div\n            className='progress-bar'\n            role='progressbar'\n            style={{ width: `${progressPercent}%` }}\n            aria-valuenow={progressPercent}\n            aria-valuemin={0}\n            aria-valuemax={100}\n          >\n            {progressPercent}\n          </div>\n        </div>\n        <div className='custom-file mb-3'>\n          <input\n            type='file'\n            className='custom-file-input'\n            id='inputGroupFile04'\n            aria-describedby='inputGroupFileAddon04'\n            onChange={upload}\n          />\n          <label className='custom-file-label' htmlFor='inputGroupFile04'>\n            Choose file\n          </label>\n        </div>\n        <button type='submit' className='btn btn-primary w-100'>\n          Submit\n        </button>\n      </form>\n      <img\n        className='mt-3'\n        src={`http://localhost:3003/${info.image}`}\n        alt={`${info.name}`}\n        style={{ width: '359px' }}\n      />\n    </div>\n  );\n}\n\nexport default Photo;\n"]},"metadata":{},"sourceType":"module"}